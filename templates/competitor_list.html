{% extends "base.html" %}

{% block title %}Competidores{% endblock %}

{% block content %}

<div class="page-header">

    <div class="page-left">
        <img 
            src="https://i.pinimg.com/736x/05/b9/e4/05b9e43b61a8fd186cea354f2454a1a7.jpg"
            class="side-icon competitors"
            alt="competitor icon">

        <h1 class="page-title">Listado de Competidores</h1>
    </div>

    <a href="/competitors/new" class="btn-box-create">â• Crear competidor</a>
</div>


{% if competitors %}

    {% for c in competitors %}
    <div class="competitor-card">

        <!-- FOTO DEL COMPETIDOR -->
        {% if c.image_url %}
            <img src="{{ c.image_url }}" class="competitor-photo">
        {% else %}
            <div class="competitor-photo" 
                 style="display:flex;justify-content:center;align-items:center;font-size:3rem;opacity:.3;">
                 ğŸ“·
            </div>
        {% endif %}

        <!-- INFORMACIÃ“N DEL COMPETIDOR -->
        <div class="card-info">
            <p><strong>ID:</strong> {{ c.id }}</p>
            <p><strong>Nombre:</strong> {{ c.name }}</p>
            <p><strong>PaÃ­s:</strong> {{ c.country }}</p>
            <p><strong>Tiempo promedio:</strong> {{ c.average_time }} seg</p>
            <p><strong>Cubo:</strong> {{ c.cube.brand if c.cube else "â€”" }}</p>
            <p><strong>Torneo:</strong> {{ c.tournament.name if c.tournament else "â€”" }}</p>
        </div>

        <!-- ACCIONES -->
        <div class="card-actions">

            <a class="btn-edit" href="/competitors/{{ c.id }}/edit">âœï¸ Editar</a>

            <form method="post" action="/competitors/{{ c.id }}/delete"
                  onsubmit="return confirm('Â¿Eliminar competidor?')">
                <button class="btn-delete" type="submit">ğŸ—‘ï¸ Eliminar</button>
            </form>

        </div>

    </div>
    {% endfor %}

{% else %}

<p class="empty-msg">No hay competidores registrados aÃºn.</p>

{% endif %}

{% endblock %}
